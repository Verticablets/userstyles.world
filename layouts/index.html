{{ define "title" }}
    {{ .Title }}{{ .Site.Params.TitleSeparator }}{{ .Site.Title }}
{{ end }}

{{ define "main" }}
    <header>
        <div class="card mt1 mb1">
            <span class="tac">{{ .Content }}</span>
            {{ partial "footer.html" . }}
        </div>
    </header>

    <main>
        <div class="grid flex rwrap mn mt2">
            {{ range sort .Site.RegularPages "value" "name" }}
                <article class="card col gap">
                    <a href="{{ .RelPermalink }}">
                        <img src="{{ .Params.preview }}"
                                alt="{{ .Params.name }} screenshot"/>
                    </a>
                    <h3>{{ .Params.name }}
                        <span class="fg2"> by {{ .Params.author }}</span>
                    </h3>
                    <p>{{ .Params.info }}</p>
                    <div class="flex">
                        <a class="split tac" href="{{ .Params.install }}">Install</a>
                        <a class="split tac" href="{{ .RelPermalink }}">Details</a>
                    </div>
                </article>
            {{ end }}
        </div>
    </main>

    {{ if .Site.Params.debug }}
        <hr />
        <h3>{{ with .Page }} {{ . }} {{ end }}</h3>
        <pre>{{- .Site | jsonify (dict "indent" "    ") -}}</pre>
    {{ end }}
{{ end }}
